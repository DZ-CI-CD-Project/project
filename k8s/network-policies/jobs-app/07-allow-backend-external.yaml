apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-backend-external
  namespace: jobs-app
spec:
  podSelector:
    matchLabels:
      app: backend
  policyTypes:
  - Egress
  egress:
  # Backend에서 외부 API로의 통신 허용 (work24.go.kr API 엔드포인트만)
  - to:
    - ipBlock:
        cidr: 210.95.199.204/32  # www.work24.go.kr IP (고정된 API 엔드포인트)
    ports:
    - protocol: TCP
      port: 443  # HTTPS (work24.go.kr API)
  # DNS는 이미 01-allow-dns.yaml에서 허용됨

